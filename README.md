# Сайт конференции PLC-2017

## Принцип работы

Hakyll это шаблонный движок, призванный генерировать статический сайт (HTML+CSS+JS, ассеты: картинки, PDF..) по набору входных файлов (кроме тех же HTML+CSS+JS и ассетов это в первую очередь Markdown-файлы и ещё что-угодно).

Правила генерации задаются программой на Haskell (файл `src/Main.hs`).

## Зависимости

* GHC >=7.8,

* cabal >= 1.18,

* Hakyll 4.

## Сборка

Два шага. Первый это компиляция `src/Main.hs`:

    cabal build

Результатом становится программа генерации сайта (расположение: `dist/build/site/site`). Если правила генерации (то есть файл `src/Main.hs`) не меняются, этот шаг можно больше не повторять.

Второй шаг:

1. Локальная перегенерация

        dist/build/site/site build
        
    Вы получите сайт целиком в каталоге `_site`. Его можно посмотреть локально, открыв `_site/index.html` в браузере.
        
2. Развёртывание на сервер (по SSH; пока не получен адрес `plc.sfedu.ru`, деплой на `test.edu.mmcs.sfedu.ru` — и для этого нужно быть Бравитом или Улиссом):

        dist/build/site/site deploy

